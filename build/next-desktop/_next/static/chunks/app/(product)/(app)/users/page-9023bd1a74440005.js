(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9249,4360,7816,9424,1519,3e3],{77603:function(t,e,a){Promise.resolve().then(a.bind(a,64507))},64507:function(t,e,a){"use strict";a.r(e);var i=a(8759),n=a(11769),r=a(48829),s=a(86644);e.default=()=>{let t=(0,n.useSearchParams)(),e=t.get("userId"),a=t.get("kind");return e&&a||(0,n.notFound)(),(0,i.jsx)(r.fp,{children:(0,i.jsx)(s.i$,{userId:e,kind:a})})}},52207:function(t,e,a){"use strict";a.r(e),a.d(e,{NavigationEvents:function(){return s}});var i=a(11769),n=a(99616),r=a(27951);let s=()=>{let t=(0,r.sv)(),e=(0,i.usePathname)(),a=(0,i.useSearchParams)();return(0,n.useEffect)(()=>{let i="".concat(e).concat(a.size>0?"?".concat(a):"");t.hit(i)},[e,a,t]),null}},17796:function(t,e,a){"use strict";a.r(e),a.d(e,{PrimaryPage:function(){return s}});var i=a(8759),n=a(99616),r=a(27951);let s=t=>{let{children:e}=t,a=(0,r.k6)();return(0,n.useEffect)(()=>{var t;(!(null==a?void 0:a.state)||(null==a?void 0:null===(t=a.state)||void 0===t?void 0:t.isLocationNotEqual(window.location.href)))&&(null==a||a.pushState({href:window.location.href,primaryPage:{pathname:window.location.pathname,query:window.location.search}}))},[]),(0,i.jsx)(n.Suspense,{children:e})}},95842:function(t,e,a){"use strict";a.r(e),a.d(e,{SecondaryPage:function(){return s}});var i=a(8759),n=a(99616),r=a(27951);let s=t=>{let{children:e,defaultPrimaryPage:a="/"}=t,s=(0,r.k6)();return(0,n.useEffect)(()=>{var t,e,i;if(!(null==s?void 0:s.state)||(null==s?void 0:null===(t=s.state)||void 0===t?void 0:t.isLocationNotEqual(window.location.href))){let t=null!==(i=null==s?void 0:null===(e=s.state)||void 0===e?void 0:e.data.primaryPage)&&void 0!==i?i:{pathname:a,query:""};null==s||s.pushState({href:window.location.href,primaryPage:t})}},[]),(0,i.jsx)(n.Suspense,{children:e})}},48829:function(t,e,a){"use strict";a.d(e,{YJ:function(){return i.PrimaryPage},fp:function(){return n.SecondaryPage}});var i=a(17796),n=a(95842);a(52207)},15985:function(t,e,a){"use strict";a.d(e,{n:function(){return y},h:function(){return m}});var i=a(8759),n=a(35338),r=a(33423),s=a(65244),o=a(15527),l=a(14581),u=a(27951),d=a(79765),c=a(99616);let m=t=>{let e=(0,u.k6)(),a=(0,c.useMemo)(()=>(0,d.Z)(()=>{if(t&&!e.canBack){e.replaceState({href:t,primaryPage:{pathname:"",query:""}});return}null==e||e.back()},200),[e,t]),i=(0,c.useMemo)(()=>(0,d.Z)(()=>{null==e||e.forward()},200),[e]);return{canBack:!!t||e.canBack,canForward:e.canForward,moveBack:a,moveForward:i}};var f=a(93552),v=a.n(f);let y=(0,r.Pi)(t=>{let{withBackwardControl:e=!0,withForwardControl:a=!0,className:r,withBackwardFallback:d}=t,{settings:c}=(0,u.oR)(),f=c.layout===u.t8.Mobile,{formatMessage:y}=(0,s.Z)(),{canBack:g,canForward:C,moveBack:p,moveForward:N}=m(d);return(0,i.jsxs)("div",{className:(0,n.W)(v().root,r),children:[e&&(0,i.jsx)(o.Button,{"aria-label":y({id:"navigation.go-back"}),radius:"round",disabled:!g,size:f?"xxs":"s",icon:(0,i.jsx)(l.Icon,{size:"xxs",variant:"arrowLeft"}),onClick:p}),a&&(0,i.jsx)(o.Button,{"aria-label":y({id:"navigation.go-forward"}),radius:"round",disabled:!C,size:f?"xxs":"s",icon:(0,i.jsx)(l.Icon,{size:"xxs",variant:"arrowRight"}),onClick:N})]})})},75434:function(t,e,a){"use strict";a.d(e,{ZL:function(){return i.PlaylistCard},nv:function(){return m},EA:function(){return r.E},VD:function(){return n.PlaylistsCarousel},Q9:function(){return g},_B:function(){return p}});var i=a(78190),n=a(46029),r=a(30510),s=a(96555),o=a(90271),l=a(37458),u=a(23463);let d=s.V5.model("PlaylistOwner",{uid:s.V5.number,login:s.V5.string,name:s.V5.string,sex:s.V5.enumeration(Object.values(u.oF)),verified:s.V5.boolean}),c=s.V5.model("PlaylistOwner",{userInfo:s.V5.maybeNull(d),caseForms:s.V5.maybeNull(l.Z)}),m=o.gO.props({owner:s.V5.maybe(d),modified:s.V5.string,description:s.V5.maybe(s.V5.string),madeFor:s.V5.maybeNull(c)});var f=a(27951);let v=t=>({uid:t.uid,login:t.login,name:t.name,sex:t.sex,verified:t.verified}),y=t=>(0,s.pj)({userInfo:t.userInfo?v(t.userInfo):null,caseForms:t.caseForms?(0,f.GA)(t.caseForms):null}),g=t=>(0,s.pj)({...(0,o.VB)(t),owner:t.owner?v(t.owner):void 0,description:t.description,modified:t.modified,madeFor:t.madeFor?y(t.madeFor):null});var C=a(30150);let p=t=>{var e,a;return(0,s.pj)({...(0,o.VB)(t),artists:null!==(a=null==t?void 0:null===(e=t.artists)||void 0===e?void 0:e.map(C.d))&&void 0!==a?a:[]})}},30510:function(t,e,a){"use strict";a.d(e,{E:function(){return s}});var i=a(96555),n=a(30150),r=a(90271);let s=r.gO.props({artists:i.V5.maybe(i.V5.array(n.xh))})},78190:function(t,e,a){"use strict";a.r(e),a.d(e,{PlaylistCard:function(){return P}});var i=a(8759),n=a(35338),r=a(33423),s=a(99616),o=a(65244),l=a(7796),u=a(15527),d=a(14077),c=a(14581),m=a(45656),f=a(96437),v=a(1918),y=a(30150),g=a(90271),C=a(27951),p=a(90779),N=a(4082),_=a.n(N);let P=(0,r.Pi)(t=>{let{className:e,playlist:a,children:r,contentLinesCount:N,customDescription:P}=t,k=(0,C.x5)(),{isFuture:h}=(0,p.AL)(),{formatMessage:x}=(0,o.Z)(),E=(0,g.SB)(a),{sendLikeSearchFeedback:S,sendNavigateSearchFeedback:L,sendPlaySearchFeedback:j}=(0,C.sA)(),b=(0,s.useMemo)(()=>{let t="number"==typeof a.actualLikesCount?a.actualLikesCount>0?x({id:"entity-names.likes-counter"},{counter:a.actualLikesCount}):x({id:"entity-names.likes-counter-empty"}):"",e=x({id:"entity-names.playlist-name"},{playlistName:a.title});return"".concat(e," ").concat(t)},[x,a.title,a.actualLikesCount]),{isPlaying:I,togglePlay:O}=(0,C.qm)({playContextParams:{contextData:{type:l.Ak.Playlist,meta:{id:a.uuid},from:k},loadContextMeta:!0}}),D=(0,s.useCallback)(t=>{t.stopPropagation(),t.preventDefault()},[]),V=(0,s.useCallback)(()=>{null==L||L()},[L]),[w,T]=(0,s.useState)(!1),G=(0,s.useCallback)(()=>{w||I||(T(!0),null==j||j()),O()},[I,w,j,O]),[F,B]=(0,s.useState)(!1),R=(0,s.useCallback)(()=>{F||a.isLiked||(B(!0),null==S||S()),E()},[E,F,a.isLiked,S]),U=(0,s.useMemo)(()=>h?(0,i.jsx)(u.Button,{className:(0,n.W)(_().icon,_().control),"aria-label":x({id:"interface-actions.context-menu"}),icon:(0,i.jsx)(c.Icon,{size:"xxs",variant:"more"}),size:"s",radius:"round",onClick:D}):null,[h,D,x]),A=(0,s.useMemo)(()=>P?(0,i.jsx)(v.Caption,{variant:"span",type:"entity",size:"s",weight:"medium",lineClamp:2,children:P}):a.artists?(0,i.jsx)(y.jO,{className:_().artists,artists:a.artists,lineClamp:1,linkClassName:_().artistLink,captionSize:"s"}):void 0,[a.artists,P]),z=(0,s.useMemo)(()=>(0,i.jsx)(f.Paper,{className:_().cover,radius:"s",withShadow:!0,children:(0,i.jsxs)(p.rU,{className:_().coverLink,href:a.url,"aria-label":a.title,onClick:V,children:[(0,i.jsx)(m.Image,{className:_().image,src:a.coverUri,size:200,fit:"cover",alt:b,withAvatarReplace:!0}),(0,i.jsx)(d.EF,{className:_().controls,playControl:(0,i.jsx)(p.JM,{className:(0,n.W)(_().playButton,_().control),buttonVariant:"default",withHover:!1,iconSize:"l",variant:"filled",onClick:G,isPlaying:I}),likeControl:!a.isFavouritePlaylist&&(0,i.jsx)(p.dJ,{isLiked:a.isLiked,onClick:R,variant:"default",size:"s",iconSize:"xxs",className:_().control}),menuControl:U})]})}),[a.url,a.title,a.coverUri,a.isFavouritePlaylist,a.isLiked,V,b,G,I,R,U]);return(0,i.jsxs)(d.m7,{"aria-label":b,className:(0,n.W)(_().root,e),title:(0,i.jsx)(v.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,i.jsx)(p.rU,{className:_().titleLink,href:a.url,onClick:V,children:a.title})}),contentLinesCount:N,view:z,description:A,children:[!!a.actualLikesCount&&(0,i.jsx)(p.DB,{likesCount:a.actualLikesCount,isLiked:a.isLiked,handleOnLikeClick:E}),r]})})},46029:function(t,e,a){"use strict";a.r(e),a.d(e,{PlaylistsCarousel:function(){return l}});var i=a(8759),n=a(99616),r=a(90779),s=a(78190);let o=t=>{let{forwardRef:e,title:a,description:n,playlists:o,isLoading:l,containerClassName:u="",className:d="",headerClassName:c}=t;return(0,i.jsx)(r.HY,{className:d,headerClassName:c,containerClassName:u,isLoading:l,ref:e,title:a,description:n,children:null==o?void 0:o.map(t=>(0,i.jsx)(s.PlaylistCard,{playlist:t,contentLinesCount:3},t.key))})},l=(0,n.forwardRef)((t,e)=>(0,i.jsx)(o,{forwardRef:e,...t}))},86644:function(t,e,a){"use strict";a.d(e,{gO:function(){return c},i$:function(){return i.PlaylistPage}});var i=a(52896);a(70305);var n=a(96555),r=a(96431),s=a(75434),o=a(93909),l=a(27951);let u=(t,e,a)=>{e.forEach(e=>{t.includes(e.id)&&(e={id:e.id,data:null,loadingState:a})})},d=n.V5.model("PlaylistItem",{id:n.V5.union(n.V5.string,n.V5.number),data:n.V5.maybeNull(o.mv),loadingState:n.V5.enumeration(Object.values(l.Gu))}),c=n.V5.model("Playlist",{meta:n.V5.maybeNull(s.nv),items:n.V5.array(d),errorStatusCode:n.V5.maybeNull(n.V5.number),loadingState:n.V5.enumeration(Object.values(l.Gu))}).actions(t=>({getTracks:(0,n.ls)(function*(e){let{trackIds:a}=e,{tracksResource:i,logger:r}=(0,n.dU)(t);try{var s,d;if(!(null===(s=t.meta)||void 0===s?void 0:s.uid)||!(null===(d=t.meta)||void 0===d?void 0:d.kind))return;u(a,t.items,l.Gu.PENDING);let e=yield i.getTracksMeta({trackIds:a});t.items=(0,n.pj)(t.items.map(t=>{let a=e.find(e=>String(null==e?void 0:e.id)===t.id);return a?{id:a.id,data:(0,o.sZ)(a),loadingState:l.Gu.RESOLVE}:t}))}catch(e){("string"==typeof e||e instanceof Error)&&r.error(e),u(a,t.items,l.Gu.REJECT)}})})).actions(t=>({updateData:(0,n.ls)(function*(e){if((null==e?void 0:e.error)==="not-found"){t.errorStatusCode=r.CN.NOT_FOUND,t.loadingState=l.Gu.REJECT;return}t.meta=(0,s.Q9)(e);let a=[];return t.items=(0,n.pj)(e.tracks.map((t,e)=>(e<10&&a.push(String(t.id)),{id:String(t.id),loadingState:l.Gu.IDLE}))),yield t.getTracks({trackIds:a})})})).actions(t=>({getPlaylistByUserIdAndKind:(0,n.ls)(function*(e){let{userId:a,playlistKind:i,resumeStream:s=!1,trackMetaType:o="music"}=e,{usersResource:u,logger:d}=(0,n.dU)(t);if(t.loadingState!==l.Gu.PENDING)try{t.loadingState=l.Gu.PENDING;let e=yield u.getPlaylistWithTracksIds({userId:a,playlistKind:i,resumeStream:s,trackMetaType:o});if("string"!=typeof e.playlistUuid){t.errorStatusCode=r.CN.NOT_FOUND,t.loadingState=l.Gu.REJECT;return}yield t.updateData(e),t.loadingState=l.Gu.RESOLVE}catch(e){("string"==typeof e||e instanceof Error)&&d.error(e),e instanceof r.du&&(e.statusCode===r.CN.NOT_FOUND||e.statusCode===r.CN.BAD_REQUEST)&&(t.errorStatusCode=r.CN.NOT_FOUND),t.loadingState=l.Gu.REJECT}}),getPlaylistByUuid:(0,n.ls)(function*(e){let{playlistUuid:a,richTracks:i=!1,resumeStream:s=!1}=e,{playlistResource:o,logger:u}=(0,n.dU)(t);if(t.loadingState!==l.Gu.PENDING)try{t.loadingState=l.Gu.PENDING;let e=yield o.getPlaylist({playlistUuid:a,resumeStream:s,richTracks:i});yield t.updateData(e),t.loadingState!==l.Gu.IDLE&&(t.loadingState=l.Gu.RESOLVE)}catch(e){("string"==typeof e||e instanceof Error)&&u.error(e),e instanceof r.du&&(e.statusCode===r.CN.NOT_FOUND||e.statusCode===r.CN.BAD_REQUEST)&&(t.errorStatusCode=r.CN.NOT_FOUND),t.loadingState!==l.Gu.IDLE&&(t.loadingState=l.Gu.REJECT)}}),reset(){t.meta=null,t.loadingState=l.Gu.IDLE,t.items=(0,n.pj)([]),t.errorStatusCode=null}})).views(t=>({get isNotFound(){return t.loadingState===l.Gu.REJECT&&t.errorStatusCode===r.CN.NOT_FOUND},get isLoading(){return t.loadingState===l.Gu.PENDING||t.loadingState===l.Gu.IDLE},get isDisabled(){var e;return t.loadingState===l.Gu.RESOLVE&&(0===t.items.length||!(null===(e=t.meta)||void 0===e?void 0:e.available))}}))},52896:function(t,e,a){"use strict";a.r(e),a.d(e,{PlaylistPage:function(){return C}});var i=a(8759),n=a(33423),r=a(11769),s=a(99616),o=a(7796),l=a(27287),u=a(43400),d=a(23042),c=a(93909),m=a(90271),f=a(27951),v=a(90779),y=a(21852),g=a.n(y);let C=(0,n.Pi)(t=>{var e;let{userId:a,kind:n,playlistUuid:y}=t,C=(0,f.x5)({pageId:f.Rh.PLAYLIST,blockId:f.aU.PLAYLIST}),p=(0,f.uK)();p.get(f.Xt);let{playlist:N}=(0,f.oR)(),_=(0,s.useMemo)(()=>{var t;return(0,f.XG)(null==N?void 0:null===(t=N.meta)||void 0===t?void 0:t.averageColor)},[null==N?void 0:null===(e=N.meta)||void 0===e?void 0:e.averageColor]),{ref:P,offsetY:k}=(0,l.e)(),h=(0,s.useMemo)(()=>{if(void 0!==k){let t=k-17;return{"--average-color-background":_,transform:"translateY(".concat(k>=17?0:t,"px)"),opacity:1}}return{}},[k,!1,_]);(0,s.useEffect)(()=>()=>{(N.uid!==a||N.kind!==n||N.uuid!==y)&&N.reset()},[N,a,n,y]),N.loadingState===f.Gu.IDLE&&("string"==typeof y?(0,s.use)(N.getPlaylistByUuid({playlistUuid:y})):(0,s.use)(N.getPlaylistByUserIdAndKind({userId:a,playlistKind:n}))),(0,f.NO)(N.loadingState===f.Gu.RESOLVE),N.isNotFound&&(0,r.notFound)();let x=(0,s.useMemo)(()=>N.isLoading?(0,i.jsx)(d.KC,{className:g().header}):(0,i.jsx)(d.Vm,{playlist:N.meta,isDisabled:N.isDisabled,className:g().header,ref:P}),[N.isDisabled,N.isLoading,N.meta,P]),E=(0,s.useMemo)(()=>({Header:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.h,{}),x]}),Footer:()=>(0,i.jsx)(v.$_,{className:g().footer})}),[x]),S=(0,s.useCallback)(t=>{let e=[];for(let a=t.startIndex;a<=t.endIndex;a++){let t=N.items[a];(null==t?void 0:t.loadingState)===f.Gu.IDLE&&e.push(t.id)}e.length&&N.getTracks({trackIds:e})},[N]);return(0,i.jsxs)(f.Lh,{pageId:f.Rh.PLAYLIST,children:[(0,i.jsx)("div",{className:g().averageColorBackground,style:h}),(0,i.jsx)(v.Wv,{className:g().root,listClassName:g().content,customComponents:E,totalCount:N.items.length,itemContentCallback:t=>{var e;let a=null==N?void 0:null===(e=N.items)||void 0===e?void 0:e[t];return a&&(null==a?void 0:a.data)?(0,i.jsx)(c.O2,{track:a.data,hasDuplicatesBefore:(0,m.BA)(null==N?void 0:N.items,a.data,t),playContextParams:{contextData:{type:o.Ak.Playlist,meta:{id:N.meta.uuid},from:C},queueParams:{index:t},loadContextMeta:!0}}):(0,i.jsx)(v.DX,{className:g().shimmerItem,variant:f.Lx.PLAYLIST})},onGetDataByRange:S,debounceDurationInMs:300,initialItemCount:N.items.length})]})})},70305:function(t,e,a){"use strict";a.r(e),a.d(e,{PlaylistNotFoundPage:function(){return s}});var i=a(8759),n=a(33423),r=a(2365);let s=(0,n.Pi)(()=>(0,i.jsx)(r.T,{}))},93552:function(t){t.exports={root:"NavigationControls_root__uCVfX"}},4082:function(t){t.exports={root:"PlaylistCard_root__i3pR4",controls:"PlaylistCard_controls__Ej8Rz",cover:"PlaylistCard_cover__tpK5L",coverLink:"PlaylistCard_coverLink__Qmy_v",image:"PlaylistCard_image__Li6oy",titleLink:"PlaylistCard_titleLink__H8qEc",artists:"PlaylistCard_artists__HtVIF",artistLink:"PlaylistCard_artistLink__jx3KB",playButton:"PlaylistCard_playButton__eaduk",control:"PlaylistCard_control__73YUq"}},21852:function(t){t.exports={root:"Playlist_root__soQjV",averageColorBackground:"Playlist_averageColorBackground__sTYXX",header:"Playlist_header__AFLVW",content:"Playlist_content__jK_zQ",shimmerItem:"Playlist_shimmerItem__D5COd",footer:"Playlist_footer__FT8cm"}},81643:function(t,e,a){"use strict";a.d(e,{d:function(){return n}});var i=a(59274);class n extends i.e{statusCode;constructor(t,e){super(t,{code:"E_HTTP_CLIENT_NON_2XX_3XX_RESPONSE",cause:e.cause}),this.statusCode=e.statusCode,Object.setPrototypeOf(this,n.prototype)}}},59274:function(t,e,a){"use strict";a.d(e,{e:function(){return n}});var i=a(83993);class n extends i.y{name="HttpException";constructor(t="Http Client error",{code:e="E_HTTP_CLIENT",...a}={}){super(t,{code:e,...a}),Object.setPrototypeOf(this,n.prototype)}}},96431:function(t,e,a){"use strict";a.d(e,{du:function(){return r.d},CN:function(){return n}}),(i=n||(n={}))[i.NOT_FOUND=404]="NOT_FOUND",i[i.BAD_REQUEST=400]="BAD_REQUEST";var i,n,r=a(81643)}},function(t){t.O(0,[2498,7873,8316,8628,6499,7951,2565,7243,9107,9213,4025,4164,1744],function(){return t(t.s=77603)}),_N_E=t.O()}]);
//# sourceMappingURL=page-9023bd1a74440005.js.map