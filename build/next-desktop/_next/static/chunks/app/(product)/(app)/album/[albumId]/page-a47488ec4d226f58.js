(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350,8890,5094],{87073:function(e,t,r){Promise.resolve().then(r.bind(r,17796)),Promise.resolve().then(r.bind(r,95842)),Promise.resolve().then(r.bind(r,52207)),Promise.resolve().then(r.bind(r,78435)),Promise.resolve().then(r.bind(r,68638)),Promise.resolve().then(r.bind(r,61308)),Promise.resolve().then(r.bind(r,75174)),Promise.resolve().then(r.bind(r,96355)),Promise.resolve().then(r.bind(r,90344)),Promise.resolve().then(r.bind(r,34575)),Promise.resolve().then(r.bind(r,75563)),Promise.resolve().then(r.t.bind(r,82333,23)),Promise.resolve().then(r.t.bind(r,95932,23)),Promise.resolve().then(r.t.bind(r,25747,23)),Promise.resolve().then(r.t.bind(r,70345,23)),Promise.resolve().then(r.bind(r,77617)),Promise.resolve().then(r.bind(r,24747)),Promise.resolve().then(r.bind(r,29751)),Promise.resolve().then(r.bind(r,48769)),Promise.resolve().then(r.bind(r,80730)),Promise.resolve().then(r.bind(r,98805)),Promise.resolve().then(r.bind(r,96262)),Promise.resolve().then(r.bind(r,76808)),Promise.resolve().then(r.bind(r,25891)),Promise.resolve().then(r.bind(r,52075)),Promise.resolve().then(r.bind(r,75715)),Promise.resolve().then(r.bind(r,50449)),Promise.resolve().then(r.bind(r,81822)),Promise.resolve().then(r.bind(r,66932)),Promise.resolve().then(r.bind(r,61367)),Promise.resolve().then(r.bind(r,48750)),Promise.resolve().then(r.bind(r,46172)),Promise.resolve().then(r.bind(r,47097)),Promise.resolve().then(r.bind(r,95168)),Promise.resolve().then(r.bind(r,23339)),Promise.resolve().then(r.bind(r,45896)),Promise.resolve().then(r.bind(r,1610)),Promise.resolve().then(r.bind(r,39229)),Promise.resolve().then(r.bind(r,24706)),Promise.resolve().then(r.bind(r,57004)),Promise.resolve().then(r.bind(r,12670)),Promise.resolve().then(r.bind(r,32453)),Promise.resolve().then(r.bind(r,82418)),Promise.resolve().then(r.bind(r,28465)),Promise.resolve().then(r.bind(r,98136)),Promise.resolve().then(r.bind(r,45656)),Promise.resolve().then(r.bind(r,1918)),Promise.resolve().then(r.bind(r,26265)),Promise.resolve().then(r.bind(r,11478)),Promise.resolve().then(r.bind(r,81282)),Promise.resolve().then(r.bind(r,53457)),Promise.resolve().then(r.bind(r,86185)),Promise.resolve().then(r.bind(r,94834)),Promise.resolve().then(r.bind(r,96437)),Promise.resolve().then(r.bind(r,15527)),Promise.resolve().then(r.bind(r,14581)),Promise.resolve().then(r.bind(r,45015)),Promise.resolve().then(r.bind(r,62923)),Promise.resolve().then(r.bind(r,33066)),Promise.resolve().then(r.bind(r,5889)),Promise.resolve().then(r.bind(r,51720)),Promise.resolve().then(r.bind(r,68814)),Promise.resolve().then(r.bind(r,8425)),Promise.resolve().then(r.bind(r,82697)),Promise.resolve().then(r.bind(r,79486)),Promise.resolve().then(r.bind(r,79265))},70345:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{suspense:function(){return n},NoSSR:function(){return s}}),r(1073),r(99616);let i=r(53518);function n(){let e=Error(i.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=i.NEXT_DYNAMIC_NO_SSR_CODE,e}function s(e){let{children:t}=e;return t}},52207:function(e,t,r){"use strict";r.r(t),r.d(t,{NavigationEvents:function(){return o}});var i=r(11769),n=r(99616),s=r(27951);let o=()=>{let e=(0,s.sv)(),t=(0,i.usePathname)(),r=(0,i.useSearchParams)();return(0,n.useEffect)(()=>{let i="".concat(t).concat(r.size>0?"?".concat(r):"");e.hit(i)},[t,r,e]),null}},17796:function(e,t,r){"use strict";r.r(t),r.d(t,{PrimaryPage:function(){return o}});var i=r(8759),n=r(99616),s=r(27951);let o=e=>{let{children:t}=e,r=(0,s.k6)();return(0,n.useEffect)(()=>{var e;(!(null==r?void 0:r.state)||(null==r?void 0:null===(e=r.state)||void 0===e?void 0:e.isLocationNotEqual(window.location.href)))&&(null==r||r.pushState({href:window.location.href,primaryPage:{pathname:window.location.pathname,query:window.location.search}}))},[]),(0,i.jsx)(n.Suspense,{children:t})}},95842:function(e,t,r){"use strict";r.r(t),r.d(t,{SecondaryPage:function(){return o}});var i=r(8759),n=r(99616),s=r(27951);let o=e=>{let{children:t,defaultPrimaryPage:r="/"}=e,o=(0,s.k6)();return(0,n.useEffect)(()=>{var e,t,i;if(!(null==o?void 0:o.state)||(null==o?void 0:null===(e=o.state)||void 0===e?void 0:e.isLocationNotEqual(window.location.href))){let e=null!==(i=null==o?void 0:null===(t=o.state)||void 0===t?void 0:t.data.primaryPage)&&void 0!==i?i:{pathname:r,query:""};null==o||o.pushState({href:window.location.href,primaryPage:e})}},[]),(0,i.jsx)(n.Suspense,{children:t})}},29152:function(e,t,r){"use strict";r.d(t,{rf:function(){return i.AlbumCard},fm:function(){return c},wk:function(){return l},H7:function(){return b}});var i=r(81822),n=r(8759),s=r(99616),o=r(90779);let a=e=>{let{forwardRef:t,title:r,description:s,albums:a,isLoading:l,className:u,containerClassName:m,headerClassName:d}=e;return(0,n.jsx)(o.HY,{className:u,headerClassName:d,containerClassName:m,isLoading:l,ref:t,title:r,description:s,children:null==a?void 0:a.map(e=>(0,n.jsx)(i.AlbumCard,{album:e,contentLinesCount:3},e.id))})},l=(0,s.forwardRef)((e,t)=>(0,n.jsx)(a,{forwardRef:t,...e}));var u=r(96555),m=r(14594),d=r(30150);let c=m.dp.props({artists:u.V5.maybe(u.V5.array(d.xh))}).views(e=>({get artistNames(){var t;return null===(t=e.artists)||void 0===t?void 0:t.map(e=>e.name).join(", ")}})),b=e=>{let t=e.artists.map(e=>(0,d.d)(e));return(0,u.pj)({...(0,m.ym)(e),artists:t})}},81822:function(e,t,r){"use strict";r.r(t),r.d(t,{AlbumCard:function(){return p}});var i=r(8759),n=r(35338),s=r(33423),o=r(99616),a=r(65244),l=r(7796),u=r(23463),m=r(15527),d=r(14077),c=r(33066),b=r(14581),v=r(45656),h=r(96437),x=r(1918),f=r(14594),P=r(30150),_=r(27951),A=r(90779),C=r(75008),g=r.n(C);let p=(0,s.Pi)(e=>{let{className:t,children:r,album:s,contentLinesCount:C}=e,p=(0,_.x5)(),{isFuture:k}=(0,A.AL)(),{formatMessage:N}=(0,a.Z)(),L=(0,f.SB)(s),{sendLikeSearchFeedback:j,sendNavigateSearchFeedback:E,sendPlaySearchFeedback:y}=(0,_.sA)(),w=s.type===u.VZ.SINGLE?N({id:"entity-names.single"}):void 0,R=(0,_.tN)([s.year,w,s.version]),I=s.contentWarning===u.F1.EXPLICIT?c.ExplicitMarkVariant.E:null,S=(0,o.useMemo)(()=>N({id:"entity-names.album-name"},{albumName:s.title}),[s.title,N]),{isPlaying:M,togglePlay:O}=(0,_.qm)({playContextParams:{contextData:{type:l.Ak.Album,meta:{id:s.id},from:p},loadContextMeta:!0}}),B=(0,o.useCallback)(e=>{e.stopPropagation(),e.preventDefault()},[]),z=(0,o.useCallback)(()=>{null==E||E()},[E]),[T,G]=(0,o.useState)(!1),D=(0,o.useCallback)(()=>{T||M||(G(!0),null==y||y()),O()},[M,T,y,O]),[W,X]=(0,o.useState)(!1),F=(0,o.useCallback)(()=>{W||s.isLiked||(X(!0),null==j||j()),L()},[s.isLiked,L,W,j]),U=(0,o.useMemo)(()=>k?(0,i.jsx)(m.Button,{className:(0,n.W)(g().icon,g().control),"aria-label":N({id:"interface-actions.context-menu"}),icon:(0,i.jsx)(b.Icon,{size:"xxs",variant:"more"}),size:"s",radius:"round",onClick:B}):null,[k,B,N]),V=(0,o.useMemo)(()=>(0,i.jsx)(h.Paper,{className:g().cover,radius:"s",withShadow:!0,children:(0,i.jsxs)(A.rU,{className:g().coverLink,href:"/album/".concat(s.id),"aria-label":s.title,onClick:z,children:[(0,i.jsx)(v.Image,{className:g().image,src:s.coverUri,size:200,fit:"cover",alt:S,withAvatarReplace:!0}),(0,i.jsx)(d.EF,{className:g().controls,playControl:(0,i.jsx)(A.JM,{className:(0,n.W)(g().playButton,g().control),buttonVariant:"default",withHover:!1,iconSize:"l",variant:"filled",onClick:D,isPlaying:M,disabled:!s.isAvailable}),likeControl:(0,i.jsx)(A.dJ,{isLiked:s.isLiked,onClick:F,variant:"default",size:"s",iconSize:"xxs",className:g().control}),menuControl:U})]})}),[s.id,s.title,s.coverUri,s.isAvailable,s.isLiked,z,S,D,M,F,U]);return(0,i.jsxs)(d.m7,{className:(0,n.W)(g().root,t),"aria-label":S,explicitMark:I,title:(0,i.jsx)(x.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,i.jsx)(A.rU,{className:g().titleLink,href:"/album/".concat(s.id),onClick:z,children:s.title})}),contentLinesCount:C,view:V,description:(0,i.jsx)(P.jO,{className:g().artists,artists:s.artists,lineClamp:1,linkClassName:g().artistLink,captionSize:"s"}),children:[R&&(0,i.jsx)(x.Caption,{className:g().addition,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:R}),r]})})},15985:function(e,t,r){"use strict";r.d(t,{n:function(){return h},h:function(){return c}});var i=r(8759),n=r(35338),s=r(33423),o=r(65244),a=r(15527),l=r(14581),u=r(27951),m=r(79765),d=r(99616);let c=e=>{let t=(0,u.k6)(),r=(0,d.useMemo)(()=>(0,m.Z)(()=>{if(e&&!t.canBack){t.replaceState({href:e,primaryPage:{pathname:"",query:""}});return}null==t||t.back()},200),[t,e]),i=(0,d.useMemo)(()=>(0,m.Z)(()=>{null==t||t.forward()},200),[t]);return{canBack:!!e||t.canBack,canForward:t.canForward,moveBack:r,moveForward:i}};var b=r(93552),v=r.n(b);let h=(0,s.Pi)(e=>{let{withBackwardControl:t=!0,withForwardControl:r=!0,className:s,withBackwardFallback:m}=e,{settings:d}=(0,u.oR)(),b=d.layout===u.t8.Mobile,{formatMessage:h}=(0,o.Z)(),{canBack:x,canForward:f,moveBack:P,moveForward:_}=c(m);return(0,i.jsxs)("div",{className:(0,n.W)(v().root,s),children:[t&&(0,i.jsx)(a.Button,{"aria-label":h({id:"navigation.go-back"}),radius:"round",disabled:!x,size:b?"xxs":"s",icon:(0,i.jsx)(l.Icon,{size:"xxs",variant:"arrowLeft"}),onClick:P}),r&&(0,i.jsx)(a.Button,{"aria-label":h({id:"navigation.go-forward"}),radius:"round",disabled:!f,size:b?"xxs":"s",icon:(0,i.jsx)(l.Icon,{size:"xxs",variant:"arrowRight"}),onClick:_})]})})},33614:function(e,t,r){"use strict";var i,n;r.d(t,{l:function(){return i}}),(n=i||(i={})).TRACK="track",n.TEXT="text"},79486:function(e,t,r){"use strict";r.r(t),r.d(t,{AlbumPage:function(){return g}});var i=r(8759),n=r(35338),s=r(33423),o=r(11769),a=r(99616),l=r(65244),u=r(2814),m=r(7796),d=r(27287),c=r(1918),b=r(43400),v=r(23042),h=r(29152),x=r(93909),f=r(27951),P=r(90779),_=r(33614),A=r(20180),C=r.n(A);let g=(0,s.Pi)(e=>{var t;let{albumId:r}=e,s=(0,f.x5)({pageId:f.Rh.ALBUM,blockId:f.aU.ALBUM}),A=(0,a.useRef)(0),g=(0,f.uK)(),{notify:p}=(0,f.d$)();g.get(f.Xt);let{album:k,experiments:N}=(0,f.oR)(),{formatMessage:L}=(0,l.Z)(),j=(0,a.useMemo)(()=>{var e;return(0,f.XG)(null==k?void 0:null===(e=k.meta)||void 0===e?void 0:e.averageColor)},[null==k?void 0:null===(t=k.meta)||void 0===t?void 0:t.averageColor]),{ref:E,offsetY:y}=(0,d.e)(),w=(0,a.useMemo)(()=>{if(void 0!==y){let e=y-17;return{"--average-color-background":j,transform:"translateY(".concat(y>=17?0:e,"px)"),opacity:1}}return{}},[y,!1,j]);(0,a.useEffect)(()=>()=>{k.id!==r&&(k.reset(),A.current=0)},[k,r]),(0,a.useEffect)(()=>{k.isAlbumLoadingError&&!k.isNotFound&&A&&0===A.current&&(p((0,i.jsx)(P.Q,{error:L({id:"album-errors.error-during-loading-album"})}),{containerId:f.W$.ERROR}),A.current++),(k.otherArtistAlbums.loadingState===f.Gu.REJECT||k.latestGenreAlbums.loadingState===f.Gu.REJECT)&&A&&0===A.current&&(p((0,i.jsx)(P.Q,{error:L({id:"album-errors.error-during-loading-similar-albums"})}),{containerId:f.W$.ERROR}),A.current++)},[k.isAlbumLoadingError,k.isNotFound,k.latestGenreAlbums.loadingState,k.otherArtistAlbums.loadingState,L,p]);let R=(0,a.useMemo)(()=>k.isAlbumLoading||k.isAlbumLoadingError?(0,i.jsx)(v.KC,{className:C().header}):(0,i.jsx)(v.hx,{album:k.meta,className:C().header,"aria-labelledby":"virtual-grid-header",ref:E}),[k.isAlbumLoading,k.isAlbumLoadingError,k.meta,E]),I=(0,a.useMemo)(()=>({Header:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.h,{}),R]}),Footer:()=>(0,i.jsxs)("div",{className:C().footerContainer,children:[(0,i.jsxs)("div",{children:[k.isOtherAlbumVersionsExist&&(0,i.jsx)(h.wk,{className:C().carousel,containerClassName:(0,n.W)(C().carouselContainer,C().important),isLoading:k.isAlbumLoading,title:L({id:"entity-names.other-album-versions"}),albums:k.otherAlbumVersions}),k.isLatestGenreAlbumsExist&&(0,i.jsx)(h.wk,{className:C().carousel,containerClassName:(0,n.W)(C().carouselContainer,C().important),isLoading:k.isLatestGenreAlbumsLoading,title:L({id:"entity-names.new-albums-in-genre"}),albums:k.latestGenreAlbums.items}),k.isOtherArtistAlbumsExist&&(0,i.jsx)(h.wk,{className:C().carousel,containerClassName:(0,n.W)(C().carouselContainer,C().important),isLoading:k.isOtherArtistAlbumsLoading,title:L({id:"entity-names.other-albums-of-artist"}),albums:k.otherArtistAlbums.items})]}),(0,i.jsx)(P.$_,{className:C().footer})]})}),[R,k.isOtherAlbumVersionsExist,k.isAlbumLoading,k.otherAlbumVersions,k.isLatestGenreAlbumsExist,k.isLatestGenreAlbumsLoading,k.latestGenreAlbums.items,k.isOtherArtistAlbumsExist,k.isOtherArtistAlbumsLoading,k.otherArtistAlbums.items,L]),S=(0,a.useCallback)(e=>{let t=[];for(let r=e.startIndex;r<=e.endIndex;r++){let e=k.items[r];(null==e?void 0:e.type)===_.l.TRACK&&(null==e?void 0:e.loadingState)===f.Gu.IDLE&&t.push(e.id)}t.length&&k.getTracks({trackIds:t})},[k]);k.loadingState===f.Gu.IDLE&&(0,a.use)(k.getData({albumId:r})),(0,f.NO)(k.loadingState===f.Gu.RESOLVE),k.isNotFound&&(0,o.notFound)();let M=N.checkExperiment(f.pe.WebNextAlbumDisableTracks,"on"),O=M?0:k.items.length||10;return(0,i.jsxs)(f.Lh,{pageId:f.Rh.ALBUM,children:[(0,i.jsx)("div",{className:C().averageColorBackground,style:w}),(0,i.jsx)(P.Wv,{className:(0,n.W)(C().root,C().important),listClassName:C().content,customComponents:I,totalCount:O,itemContentCallback:e=>{var t,r;let o=null==k?void 0:null===(t=k.items)||void 0===t?void 0:t[e];if(!o)return(0,i.jsx)(P.DX,{className:C().shimmerItem,variant:f.Lx.ALBUM});if(!(null==o?void 0:o.data))switch(null==o?void 0:o.type){case _.l.TEXT:return(0,i.jsx)(P.AH,{className:C().shimmerItem});case _.l.TRACK:return(0,i.jsx)(P.DX,{className:C().shimmerItem,variant:f.Lx.ALBUM})}switch(null==o?void 0:o.type){case _.l.TRACK:return(0,i.jsx)(x.RJ,{track:o.data,position:o.position,albumArtists:null==k?void 0:null===(r=k.meta)||void 0===r?void 0:r.artists,playContextParams:{contextData:{type:m.Ak.Album,meta:{id:k.meta.id},from:s},queueParams:{index:k.trackIndexInContext.get(o.id)}}});case _.l.TEXT:return(0,i.jsx)("div",{className:(0,n.W)(C().shimmerItem,C().textItem),children:(0,i.jsx)(c.Caption,{variant:"span",type:"entity",size:"m",weight:"medium",className:C().text,children:(0,i.jsx)(u.Z,{id:"entity-names.disk-number",values:{number:o.data}})})})}},onGetDataByRange:S,debounceDurationInMs:300,initialItemCount:O})]})})},79265:function(e,t,r){"use strict";r.r(t),r.d(t,{AlbumNotFoundPage:function(){return l}});var i=r(8759),n=r(33423),s=r(99616),o=r(2365),a=r(27951);let l=(0,n.Pi)(()=>{let{album:e}=(0,a.oR)();return(0,s.useEffect)(()=>()=>{e.reset()},[e]),(0,i.jsx)(o.T,{})})},75008:function(e){e.exports={root:"AlbumCard_root__vP6k4",controls:"AlbumCard_controls__yuO40",cover:"AlbumCard_cover__zXmdl",coverLink:"AlbumCard_coverLink___ZD1S",image:"AlbumCard_image__Mm55s",titleLink:"AlbumCard_titleLink__u_WLG",artists:"AlbumCard_artists__phKco",artistLink:"AlbumCard_artistLink__uPR_2",playButton:"AlbumCard_playButton__mYK9R",control:"AlbumCard_control__qx7Xh"}},93552:function(e){e.exports={root:"NavigationControls_root__uCVfX"}},20180:function(e){e.exports={root:"Album_root__Q0lER",important:"Album_important__BgPFO",averageColorBackground:"Album_averageColorBackground__Azuso",header:"Album_header__AooR_",content:"Album_content__lB0Uw",footerContainer:"Album_footerContainer__FmHR2",carousel:"Album_carousel__XJnod",carouselContainer:"Album_carouselContainer__7NJck",textItem:"Album_textItem__fRm1d",text:"Album_text__qHJw_",shimmerItem:"Album_shimmerItem__Qbpj3",footer:"Album_footer__9zwOl"}}},function(e){e.O(0,[2498,7873,8316,8628,6499,7951,2565,7243,9107,9213,4025,4164,1744],function(){return e(e.s=87073)}),_N_E=e.O()}]);
//# sourceMappingURL=page-a47488ec4d226f58.js.map