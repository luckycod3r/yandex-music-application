(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5383],{32637:function(e,t,r){Promise.resolve().then(r.bind(r,78435)),Promise.resolve().then(r.bind(r,68638)),Promise.resolve().then(r.bind(r,61308)),Promise.resolve().then(r.bind(r,75174)),Promise.resolve().then(r.bind(r,96355)),Promise.resolve().then(r.bind(r,90344)),Promise.resolve().then(r.bind(r,34575)),Promise.resolve().then(r.bind(r,75563)),Promise.resolve().then(r.t.bind(r,82333,23)),Promise.resolve().then(r.t.bind(r,95932,23)),Promise.resolve().then(r.t.bind(r,25747,23)),Promise.resolve().then(r.t.bind(r,70345,23)),Promise.resolve().then(r.bind(r,77617)),Promise.resolve().then(r.bind(r,24747)),Promise.resolve().then(r.bind(r,29751)),Promise.resolve().then(r.bind(r,48769)),Promise.resolve().then(r.bind(r,80730)),Promise.resolve().then(r.bind(r,98805)),Promise.resolve().then(r.bind(r,96262)),Promise.resolve().then(r.bind(r,76808)),Promise.resolve().then(r.bind(r,25891)),Promise.resolve().then(r.bind(r,52075)),Promise.resolve().then(r.bind(r,75715)),Promise.resolve().then(r.bind(r,50449)),Promise.resolve().then(r.bind(r,81822)),Promise.resolve().then(r.bind(r,66932)),Promise.resolve().then(r.bind(r,61367)),Promise.resolve().then(r.bind(r,48750)),Promise.resolve().then(r.bind(r,46172)),Promise.resolve().then(r.bind(r,47097)),Promise.resolve().then(r.bind(r,95168)),Promise.resolve().then(r.bind(r,23339)),Promise.resolve().then(r.bind(r,45896)),Promise.resolve().then(r.bind(r,1610)),Promise.resolve().then(r.bind(r,39229)),Promise.resolve().then(r.bind(r,24706)),Promise.resolve().then(r.bind(r,57004)),Promise.resolve().then(r.bind(r,12670)),Promise.resolve().then(r.bind(r,32453)),Promise.resolve().then(r.bind(r,82418)),Promise.resolve().then(r.bind(r,28465)),Promise.resolve().then(r.bind(r,98136)),Promise.resolve().then(r.bind(r,45656)),Promise.resolve().then(r.bind(r,1918)),Promise.resolve().then(r.bind(r,26265)),Promise.resolve().then(r.bind(r,11478)),Promise.resolve().then(r.bind(r,81282)),Promise.resolve().then(r.bind(r,53457)),Promise.resolve().then(r.bind(r,86185)),Promise.resolve().then(r.bind(r,94834)),Promise.resolve().then(r.bind(r,96437)),Promise.resolve().then(r.bind(r,15527)),Promise.resolve().then(r.bind(r,14581)),Promise.resolve().then(r.bind(r,45015)),Promise.resolve().then(r.bind(r,62923)),Promise.resolve().then(r.bind(r,33066)),Promise.resolve().then(r.bind(r,5889)),Promise.resolve().then(r.bind(r,51720)),Promise.resolve().then(r.bind(r,68814)),Promise.resolve().then(r.bind(r,8425)),Promise.resolve().then(r.bind(r,82697)),Promise.resolve().then(r.bind(r,79486)),Promise.resolve().then(r.bind(r,79265))},70345:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{suspense:function(){return n},NoSSR:function(){return s}}),r(1073),r(99616);let i=r(53518);function n(){let e=Error(i.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=i.NEXT_DYNAMIC_NO_SSR_CODE,e}function s(e){let{children:t}=e;return t}},29152:function(e,t,r){"use strict";r.d(t,{rf:function(){return i.AlbumCard},fm:function(){return c},wk:function(){return l},H7:function(){return b}});var i=r(81822),n=r(8759),s=r(99616),o=r(90779);let a=e=>{let{forwardRef:t,title:r,description:s,albums:a,isLoading:l,className:m,containerClassName:u,headerClassName:d}=e;return(0,n.jsx)(o.HY,{className:m,headerClassName:d,containerClassName:u,isLoading:l,ref:t,title:r,description:s,children:null==a?void 0:a.map(e=>(0,n.jsx)(i.AlbumCard,{album:e,contentLinesCount:3},e.id))})},l=(0,s.forwardRef)((e,t)=>(0,n.jsx)(a,{forwardRef:t,...e}));var m=r(96555),u=r(14594),d=r(30150);let c=u.dp.props({artists:m.V5.maybe(m.V5.array(d.xh))}).views(e=>({get artistNames(){var t;return null===(t=e.artists)||void 0===t?void 0:t.map(e=>e.name).join(", ")}})),b=e=>{let t=e.artists.map(e=>(0,d.d)(e));return(0,m.pj)({...(0,u.ym)(e),artists:t})}},81822:function(e,t,r){"use strict";r.r(t),r.d(t,{AlbumCard:function(){return p}});var i=r(8759),n=r(35338),s=r(33423),o=r(99616),a=r(65244),l=r(7796),m=r(23463),u=r(15527),d=r(14077),c=r(33066),b=r(14581),v=r(45656),h=r(96437),x=r(1918),_=r(14594),A=r(30150),P=r(27951),C=r(90779),f=r(75008),g=r.n(f);let p=(0,s.Pi)(e=>{let{className:t,children:r,album:s,contentLinesCount:f}=e,p=(0,P.x5)(),{isFuture:k}=(0,C.AL)(),{formatMessage:N}=(0,a.Z)(),L=(0,_.SB)(s),{sendLikeSearchFeedback:j,sendNavigateSearchFeedback:E,sendPlaySearchFeedback:y}=(0,P.sA)(),R=s.type===m.VZ.SINGLE?N({id:"entity-names.single"}):void 0,w=(0,P.tN)([s.year,R,s.version]),I=s.contentWarning===m.F1.EXPLICIT?c.ExplicitMarkVariant.E:null,M=(0,o.useMemo)(()=>N({id:"entity-names.album-name"},{albumName:s.title}),[s.title,N]),{isPlaying:S,togglePlay:B}=(0,P.qm)({playContextParams:{contextData:{type:l.Ak.Album,meta:{id:s.id},from:p},loadContextMeta:!0}}),O=(0,o.useCallback)(e=>{e.stopPropagation(),e.preventDefault()},[]),T=(0,o.useCallback)(()=>{null==E||E()},[E]),[z,G]=(0,o.useState)(!1),D=(0,o.useCallback)(()=>{z||S||(G(!0),null==y||y()),B()},[S,z,y,B]),[W,X]=(0,o.useState)(!1),F=(0,o.useCallback)(()=>{W||s.isLiked||(X(!0),null==j||j()),L()},[s.isLiked,L,W,j]),U=(0,o.useMemo)(()=>k?(0,i.jsx)(u.Button,{className:(0,n.W)(g().icon,g().control),"aria-label":N({id:"interface-actions.context-menu"}),icon:(0,i.jsx)(b.Icon,{size:"xxs",variant:"more"}),size:"s",radius:"round",onClick:O}):null,[k,O,N]),V=(0,o.useMemo)(()=>(0,i.jsx)(h.Paper,{className:g().cover,radius:"s",withShadow:!0,children:(0,i.jsxs)(C.rU,{className:g().coverLink,href:"/album/".concat(s.id),"aria-label":s.title,onClick:T,children:[(0,i.jsx)(v.Image,{className:g().image,src:s.coverUri,size:200,fit:"cover",alt:M,withAvatarReplace:!0}),(0,i.jsx)(d.EF,{className:g().controls,playControl:(0,i.jsx)(C.JM,{className:(0,n.W)(g().playButton,g().control),buttonVariant:"default",withHover:!1,iconSize:"l",variant:"filled",onClick:D,isPlaying:S,disabled:!s.isAvailable}),likeControl:(0,i.jsx)(C.dJ,{isLiked:s.isLiked,onClick:F,variant:"default",size:"s",iconSize:"xxs",className:g().control}),menuControl:U})]})}),[s.id,s.title,s.coverUri,s.isAvailable,s.isLiked,T,M,D,S,F,U]);return(0,i.jsxs)(d.m7,{className:(0,n.W)(g().root,t),"aria-label":M,explicitMark:I,title:(0,i.jsx)(x.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,i.jsx)(C.rU,{className:g().titleLink,href:"/album/".concat(s.id),onClick:T,children:s.title})}),contentLinesCount:f,view:V,description:(0,i.jsx)(A.jO,{className:g().artists,artists:s.artists,lineClamp:1,linkClassName:g().artistLink,captionSize:"s"}),children:[w&&(0,i.jsx)(x.Caption,{className:g().addition,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:w}),r]})})},15985:function(e,t,r){"use strict";r.d(t,{n:function(){return h},h:function(){return c}});var i=r(8759),n=r(35338),s=r(33423),o=r(65244),a=r(15527),l=r(14581),m=r(27951),u=r(79765),d=r(99616);let c=e=>{let t=(0,m.k6)(),r=(0,d.useMemo)(()=>(0,u.Z)(()=>{if(e&&!t.canBack){t.replaceState({href:e,primaryPage:{pathname:"",query:""}});return}null==t||t.back()},200),[t,e]),i=(0,d.useMemo)(()=>(0,u.Z)(()=>{null==t||t.forward()},200),[t]);return{canBack:!!e||t.canBack,canForward:t.canForward,moveBack:r,moveForward:i}};var b=r(93552),v=r.n(b);let h=(0,s.Pi)(e=>{let{withBackwardControl:t=!0,withForwardControl:r=!0,className:s,withBackwardFallback:u}=e,{settings:d}=(0,m.oR)(),b=d.layout===m.t8.Mobile,{formatMessage:h}=(0,o.Z)(),{canBack:x,canForward:_,moveBack:A,moveForward:P}=c(u);return(0,i.jsxs)("div",{className:(0,n.W)(v().root,s),children:[t&&(0,i.jsx)(a.Button,{"aria-label":h({id:"navigation.go-back"}),radius:"round",disabled:!x,size:b?"xxs":"s",icon:(0,i.jsx)(l.Icon,{size:"xxs",variant:"arrowLeft"}),onClick:A}),r&&(0,i.jsx)(a.Button,{"aria-label":h({id:"navigation.go-forward"}),radius:"round",disabled:!_,size:b?"xxs":"s",icon:(0,i.jsx)(l.Icon,{size:"xxs",variant:"arrowRight"}),onClick:P})]})})},33614:function(e,t,r){"use strict";var i,n;r.d(t,{l:function(){return i}}),(n=i||(i={})).TRACK="track",n.TEXT="text"},79486:function(e,t,r){"use strict";r.r(t),r.d(t,{AlbumPage:function(){return g}});var i=r(8759),n=r(35338),s=r(33423),o=r(11769),a=r(99616),l=r(65244),m=r(2814),u=r(7796),d=r(27287),c=r(1918),b=r(43400),v=r(23042),h=r(29152),x=r(93909),_=r(27951),A=r(90779),P=r(33614),C=r(20180),f=r.n(C);let g=(0,s.Pi)(e=>{var t;let{albumId:r}=e,s=(0,_.x5)({pageId:_.Rh.ALBUM,blockId:_.aU.ALBUM}),C=(0,a.useRef)(0),g=(0,_.uK)(),{notify:p}=(0,_.d$)();g.get(_.Xt);let{album:k,experiments:N}=(0,_.oR)(),{formatMessage:L}=(0,l.Z)(),j=(0,a.useMemo)(()=>{var e;return(0,_.XG)(null==k?void 0:null===(e=k.meta)||void 0===e?void 0:e.averageColor)},[null==k?void 0:null===(t=k.meta)||void 0===t?void 0:t.averageColor]),{ref:E,offsetY:y}=(0,d.e)(),R=(0,a.useMemo)(()=>{if(void 0!==y){let e=y-17;return{"--average-color-background":j,transform:"translateY(".concat(y>=17?0:e,"px)"),opacity:1}}return{}},[y,!1,j]);(0,a.useEffect)(()=>()=>{k.id!==r&&(k.reset(),C.current=0)},[k,r]),(0,a.useEffect)(()=>{k.isAlbumLoadingError&&!k.isNotFound&&C&&0===C.current&&(p((0,i.jsx)(A.Q,{error:L({id:"album-errors.error-during-loading-album"})}),{containerId:_.W$.ERROR}),C.current++),(k.otherArtistAlbums.loadingState===_.Gu.REJECT||k.latestGenreAlbums.loadingState===_.Gu.REJECT)&&C&&0===C.current&&(p((0,i.jsx)(A.Q,{error:L({id:"album-errors.error-during-loading-similar-albums"})}),{containerId:_.W$.ERROR}),C.current++)},[k.isAlbumLoadingError,k.isNotFound,k.latestGenreAlbums.loadingState,k.otherArtistAlbums.loadingState,L,p]);let w=(0,a.useMemo)(()=>k.isAlbumLoading||k.isAlbumLoadingError?(0,i.jsx)(v.KC,{className:f().header}):(0,i.jsx)(v.hx,{album:k.meta,className:f().header,"aria-labelledby":"virtual-grid-header",ref:E}),[k.isAlbumLoading,k.isAlbumLoadingError,k.meta,E]),I=(0,a.useMemo)(()=>({Header:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.h,{}),w]}),Footer:()=>(0,i.jsxs)("div",{className:f().footerContainer,children:[(0,i.jsxs)("div",{children:[k.isOtherAlbumVersionsExist&&(0,i.jsx)(h.wk,{className:f().carousel,containerClassName:(0,n.W)(f().carouselContainer,f().important),isLoading:k.isAlbumLoading,title:L({id:"entity-names.other-album-versions"}),albums:k.otherAlbumVersions}),k.isLatestGenreAlbumsExist&&(0,i.jsx)(h.wk,{className:f().carousel,containerClassName:(0,n.W)(f().carouselContainer,f().important),isLoading:k.isLatestGenreAlbumsLoading,title:L({id:"entity-names.new-albums-in-genre"}),albums:k.latestGenreAlbums.items}),k.isOtherArtistAlbumsExist&&(0,i.jsx)(h.wk,{className:f().carousel,containerClassName:(0,n.W)(f().carouselContainer,f().important),isLoading:k.isOtherArtistAlbumsLoading,title:L({id:"entity-names.other-albums-of-artist"}),albums:k.otherArtistAlbums.items})]}),(0,i.jsx)(A.$_,{className:f().footer})]})}),[w,k.isOtherAlbumVersionsExist,k.isAlbumLoading,k.otherAlbumVersions,k.isLatestGenreAlbumsExist,k.isLatestGenreAlbumsLoading,k.latestGenreAlbums.items,k.isOtherArtistAlbumsExist,k.isOtherArtistAlbumsLoading,k.otherArtistAlbums.items,L]),M=(0,a.useCallback)(e=>{let t=[];for(let r=e.startIndex;r<=e.endIndex;r++){let e=k.items[r];(null==e?void 0:e.type)===P.l.TRACK&&(null==e?void 0:e.loadingState)===_.Gu.IDLE&&t.push(e.id)}t.length&&k.getTracks({trackIds:t})},[k]);k.loadingState===_.Gu.IDLE&&(0,a.use)(k.getData({albumId:r})),(0,_.NO)(k.loadingState===_.Gu.RESOLVE),k.isNotFound&&(0,o.notFound)();let S=N.checkExperiment(_.pe.WebNextAlbumDisableTracks,"on"),B=S?0:k.items.length||10;return(0,i.jsxs)(_.Lh,{pageId:_.Rh.ALBUM,children:[(0,i.jsx)("div",{className:f().averageColorBackground,style:R}),(0,i.jsx)(A.Wv,{className:(0,n.W)(f().root,f().important),listClassName:f().content,customComponents:I,totalCount:B,itemContentCallback:e=>{var t,r;let o=null==k?void 0:null===(t=k.items)||void 0===t?void 0:t[e];if(!o)return(0,i.jsx)(A.DX,{className:f().shimmerItem,variant:_.Lx.ALBUM});if(!(null==o?void 0:o.data))switch(null==o?void 0:o.type){case P.l.TEXT:return(0,i.jsx)(A.AH,{className:f().shimmerItem});case P.l.TRACK:return(0,i.jsx)(A.DX,{className:f().shimmerItem,variant:_.Lx.ALBUM})}switch(null==o?void 0:o.type){case P.l.TRACK:return(0,i.jsx)(x.RJ,{track:o.data,position:o.position,albumArtists:null==k?void 0:null===(r=k.meta)||void 0===r?void 0:r.artists,playContextParams:{contextData:{type:u.Ak.Album,meta:{id:k.meta.id},from:s},queueParams:{index:k.trackIndexInContext.get(o.id)}}});case P.l.TEXT:return(0,i.jsx)("div",{className:(0,n.W)(f().shimmerItem,f().textItem),children:(0,i.jsx)(c.Caption,{variant:"span",type:"entity",size:"m",weight:"medium",className:f().text,children:(0,i.jsx)(m.Z,{id:"entity-names.disk-number",values:{number:o.data}})})})}},onGetDataByRange:M,debounceDurationInMs:300,initialItemCount:B})]})})},79265:function(e,t,r){"use strict";r.r(t),r.d(t,{AlbumNotFoundPage:function(){return l}});var i=r(8759),n=r(33423),s=r(99616),o=r(2365),a=r(27951);let l=(0,n.Pi)(()=>{let{album:e}=(0,a.oR)();return(0,s.useEffect)(()=>()=>{e.reset()},[e]),(0,i.jsx)(o.T,{})})},75008:function(e){e.exports={root:"AlbumCard_root__vP6k4",controls:"AlbumCard_controls__yuO40",cover:"AlbumCard_cover__zXmdl",coverLink:"AlbumCard_coverLink___ZD1S",image:"AlbumCard_image__Mm55s",titleLink:"AlbumCard_titleLink__u_WLG",artists:"AlbumCard_artists__phKco",artistLink:"AlbumCard_artistLink__uPR_2",playButton:"AlbumCard_playButton__mYK9R",control:"AlbumCard_control__qx7Xh"}},93552:function(e){e.exports={root:"NavigationControls_root__uCVfX"}},20180:function(e){e.exports={root:"Album_root__Q0lER",important:"Album_important__BgPFO",averageColorBackground:"Album_averageColorBackground__Azuso",header:"Album_header__AooR_",content:"Album_content__lB0Uw",footerContainer:"Album_footerContainer__FmHR2",carousel:"Album_carousel__XJnod",carouselContainer:"Album_carouselContainer__7NJck",textItem:"Album_textItem__fRm1d",text:"Album_text__qHJw_",shimmerItem:"Album_shimmerItem__Qbpj3",footer:"Album_footer__9zwOl"}}}]);
//# sourceMappingURL=5383-bf450848d1a58b06.js.map